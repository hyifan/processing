(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-88776bde"],{2714:function(e,t,a){},"448b":function(e,t,a){"use strict";var r=a("2714"),n=a.n(r);n.a},"459d":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"fade"}},[e.show?a("div",{staticClass:"toast",class:{error:e.error}},[e._t("default",[e._v(e._s(e.message))])],2):e._e()])},n=[],o={props:{show:{type:Boolean,default:!1},message:{type:String,default:""},error:{type:Boolean,default:!1}},watch:{show:function(e){var t=this;e&&setTimeout((function(){t.$emit("update:show",!1)}),3e3)}}},s=o,i=(a("f82c"),a("2877")),l=Object(i["a"])(s,r,n,!1,null,null,null);t["a"]=l.exports},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var r=a("1d80"),n=a("5899"),o="["+n+"]",s=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),l=function(e){return function(t){var a=String(r(t));return 1&e&&(a=a.replace(s,"")),2&e&&(a=a.replace(i,"")),a}};e.exports={start:l(1),end:l(2),trim:l(3)}},7156:function(e,t,a){var r=a("861d"),n=a("d2bb");e.exports=function(e,t,a){var o,s;return n&&"function"==typeof(o=t.constructor)&&o!==a&&r(s=o.prototype)&&s!==a.prototype&&n(e,s),e}},"7d30":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m-main-content"},[a("form",{staticClass:"form clearfix",on:{submit:[function(e){e.preventDefault(),e.stopPropagation()},e.checkForm]}},[a("fieldset",{staticClass:"item"},[a("legend",[e._v("图像处理方式")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{type:"radio",id:"gray",value:"gray"},domProps:{checked:e._q(e.type,"gray")},on:{change:function(t){e.type="gray"}}}),a("label",{attrs:{for:"gray"}},[e._v("灰度图像")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{type:"radio",id:"translate",value:"translate"},domProps:{checked:e._q(e.type,"translate")},on:{change:function(t){e.type="translate"}}}),a("label",{attrs:{for:"translate"}},[e._v("图像反转")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{type:"radio",id:"log",value:"log"},domProps:{checked:e._q(e.type,"log")},on:{change:function(t){e.type="log"}}}),a("label",{attrs:{for:"log"}},[e._v("对数变换")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{type:"radio",id:"gama",value:"gama"},domProps:{checked:e._q(e.type,"gama")},on:{change:function(t){e.type="gama"}}}),a("label",{attrs:{for:"gama"}},[e._v("伽马变换")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{type:"radio",id:"histogram",value:"histogram"},domProps:{checked:e._q(e.type,"histogram")},on:{change:function(t){e.type="histogram"}}}),a("label",{attrs:{for:"histogram"}},[e._v("直方图均衡")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{type:"radio",id:"median",value:"median"},domProps:{checked:e._q(e.type,"median")},on:{change:function(t){e.type="median"}}}),a("label",{attrs:{for:"median"}},[e._v("中值滤波器")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{type:"radio",id:"laplacian",value:"laplacian"},domProps:{checked:e._q(e.type,"laplacian")},on:{change:function(t){e.type="laplacian"}}}),a("label",{attrs:{for:"laplacian"}},[e._v("Laplacian算子")])]),a("fieldset",{staticClass:"item"},[a("legend",[e._v("RGB参数")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.gray.red,expression:"gray.red"}],attrs:{type:"number",placeholder:"Red",disabled:"gray"!==e.type,required:"gray"===e.type},domProps:{value:e.gray.red},on:{input:function(t){t.target.composing||e.$set(e.gray,"red",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.gray.green,expression:"gray.green"}],attrs:{type:"number",placeholder:"Green",disabled:"gray"!==e.type,required:"gray"===e.type},domProps:{value:e.gray.green},on:{input:function(t){t.target.composing||e.$set(e.gray,"green",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.gray.blue,expression:"gray.blue"}],attrs:{type:"number",placeholder:"Blue",disabled:"gray"!==e.type,required:"gray"===e.type},domProps:{value:e.gray.blue},on:{input:function(t){t.target.composing||e.$set(e.gray,"blue",t.target.value)}}})]),a("fieldset",{staticClass:"item"},[a("legend",[e._v("对数变换参数")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.log.c,expression:"log.c"}],attrs:{type:"number",placeholder:"c",disabled:"log"!==e.type,required:"log"===e.type},domProps:{value:e.log.c},on:{input:function(t){t.target.composing||e.$set(e.log,"c",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.log.v,expression:"log.v"}],attrs:{type:"number",placeholder:"v",disabled:"log"!==e.type,required:"log"===e.type},domProps:{value:e.log.v},on:{input:function(t){t.target.composing||e.$set(e.log,"v",t.target.value)}}})]),a("fieldset",{staticClass:"item"},[a("legend",[e._v("伽马参数")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.gama,expression:"gama"}],attrs:{type:"number",placeholder:"gama",disabled:"gama"!==e.type,required:"gama"===e.type},domProps:{value:e.gama},on:{input:function(t){t.target.composing||(e.gama=t.target.value)}}})]),a("fieldset",{staticClass:"item"},[a("legend",[e._v("图像类型")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.style,expression:"style"}],attrs:{type:"radio",id:"simple",value:"simple",disabled:["translate","log","gama","histogram"].indexOf(e.type)<0},domProps:{checked:e._q(e.style,"simple")},on:{change:function(t){e.style="simple"}}}),a("label",{attrs:{for:"simple"}},[e._v("黑白")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.style,expression:"style"}],attrs:{type:"radio",id:"color",value:"color",disabled:["translate","log","gama","histogram"].indexOf(e.type)<0},domProps:{checked:e._q(e.style,"color")},on:{change:function(t){e.style="color"}}}),a("label",{attrs:{for:"color"}},[e._v("彩色")])]),a("fieldset",{staticClass:"item"},[a("legend",[e._v("上传图片")]),a("input",{ref:"pic",attrs:{type:"file",accept:"image/*",multiple:""}})]),a("button",{staticClass:"btn",attrs:{type:"submit"}},[e._v("提交")])]),a("div",{staticClass:"main clearfix"},e._l(e.urls,(function(e,t){return a("div",{key:e,staticClass:"item"},[a("img",t<9?{attrs:{"data-src":e,src:e}}:{attrs:{"data-src":e}})])})),0),a("toast-message",{attrs:{show:e.showErrorToast,message:e.message,error:""},on:{"update:show":function(t){e.showErrorToast=t}}})],1)},n=[],o=(a("4160"),a("a9e3"),a("d3b7"),a("159b"),a("96cf"),a("1da1")),s=a("459d"),i={data:function(){return{showErrorToast:!1,message:"",type:"median",style:"simple",gray:{red:void 0,green:void 0,blue:void 0},log:{c:"",v:""},gama:"",urls:[]}},methods:{checkForm:function(){if(0===this.$refs.pic.files.length)return this.showErrorToast=!0,void(this.message="请选择图片");this.save()},save:function(){var e=this,t=new FormData;if(this.$refs.pic.files.forEach(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.append("file",a);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),["type","style"].forEach((function(a){t.append(a,e[a])})),"gray"===this.type){var a=Number(this.gray.red)+Number(this.gray.green)+Number(this.gray.blue),r=Number(this.gray.red)/a,n=Number(this.gray.green)/a,s=1-r-n;t.append("red",r),t.append("green",n),t.append("blue",s)}"log"===this.type&&(t.append("logC",this.log.c),t.append("logV",this.log.v)),"gama"===this.type&&t.append("gama",this.gama),this.$api.base.upload(t).then((function(t){var a=[];t.data.urls.forEach((function(e){a.push("/image/"+e)})),e.urls=a,e.loadImg()}))},loadImg:function(){var e=9;function t(){for(var t=document.documentElement.clientHeight,a=document.documentElement.scrollTop||document.body.scrollTop,r=document.getElementsByTagName("img"),n=e||9;n<r.length;n++){var o=r[n],s=o.offsetTop;s<t+a+300&&(o.getAttribute("src")||(o.src=o.getAttribute("data-src")),e=n+1)}}var a=null,r=Date.now();window.addEventListener("scroll",(function(){var e=1e3,n=Date.now(),o=e-(n-r);clearTimeout(a),o<=0?(t(),r=Date.now()):a=setTimeout(t,o)}))},readImage:function(e){return new Promise((function(t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(e){var a=new Image;a.src=e.target.result,a.onload=function(){var e=this.width,a=this.height;t({width:e,height:a})}}}))}},components:{ToastMessage:s["a"]}},l=i,c=(a("448b"),a("2877")),d=Object(c["a"])(l,r,n,!1,null,"11de5e0c",null);t["default"]=d.exports},a9e3:function(e,t,a){"use strict";var r=a("83ab"),n=a("da84"),o=a("94ca"),s=a("6eeb"),i=a("5135"),l=a("c6b6"),c=a("7156"),d=a("c04e"),p=a("d039"),u=a("7c73"),m=a("241c").f,g=a("06cf").f,v=a("9bf2").f,f=a("58a8").trim,y="Number",h=n[y],b=h.prototype,w=l(u(b))==y,_=function(e){var t,a,r,n,o,s,i,l,c=d(e,!1);if("string"==typeof c&&c.length>2)if(c=f(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+c}for(o=c.slice(2),s=o.length,i=0;i<s;i++)if(l=o.charCodeAt(i),l<48||l>n)return NaN;return parseInt(o,r)}return+c};if(o(y,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var N,x=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof x&&(w?p((function(){b.valueOf.call(a)})):l(a)!=y)?c(new h(_(t)),a,x):_(t)},E=r?m(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;E.length>I;I++)i(h,N=E[I])&&!i(x,N)&&v(x,N,g(h,N));x.prototype=b,b.constructor=x,s(n,y,x)}},f678:function(e,t,a){},f82c:function(e,t,a){"use strict";var r=a("f678"),n=a.n(r);n.a}}]);
//# sourceMappingURL=chunk-88776bde.696a53d1.js.map